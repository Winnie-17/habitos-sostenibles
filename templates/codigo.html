{% extends "index.html" %}
{% block content %}
<h2>Código</h2>
<div class="fade-in">
  <p>Este sistema se basa en funciones como <code>def registrar()</code> y estructuras condicionales como <code>if nombre:</code>, fundamentales en la programación en Python.</p>
  <pre><code>
@app.route("/registrar", methods=["POST"])
def registrar():
    lista = HabitoPersonalizado.query.all()
    resultados = {h.nombre: f"habito_{h.id}" in request.form for h in lista}
    nuevo = Registro(datos=json.dumps(resultados), fecha=datetime.today().date())
    db.session.add(nuevo)
    db.session.commit()
    return redirect(url_for('index'))
  </code></pre>
</div>
{% endblock %}
