<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>H√°bitos sostenibles</title>
  <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;700&family=Roboto&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
  <header>
    <h1 class="titulo">H√°bitos sostenibles</h1>
    <p class="descripcion">Sistema de seguimiento de h√°bitos sostenibles personalizados.</p>
  </header>
  <main class="fade-in">
    <section>
      <form method="POST" action="/agregar">
        <input type="text" name="nuevo_habito" placeholder="Nuevo h√°bito..." required>
        <button type="submit" class="btn">A√±adir h√°bito</button>
      </form>
      <form method="POST" action="/registrar">
        {% for habito in lista %}
        <div class="check">
          <input type="checkbox" name="habito_{{ habito.id }}" id="habito_{{ habito.id }}">
          <label for="habito_{{ habito.id }}">{{ habito.nombre }}</label>
          <form method="POST" action="/eliminar/{{ habito.id }}">
            <button type="submit">üóëÔ∏è</button>
          </form>
        </div>
        {% endfor %}
        <button type="submit" class="btn">Registrar</button>
      </form>
    </section>
    <section>
      <h2>Historial</h2>
      <table>
        <thead><tr><th>Fecha</th><th>H√°bitos</th></tr></thead>
        <tbody>
          {% for r in registros %}
          <tr>
            <td>{{ r.fecha }}</td>
            <td>
              {% for n,v in r.datos.items() %}
              {{ n }}: {{ '‚úÖ' if v else '‚ùå' }}<br>
              {% endfor %}
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </section>
    <nav>
      <a href="/" class="btn">Inicio</a>
      <a href="/aplicaciones" class="btn">Aplicaci√≥n</a>
      <a href="/reflexion" class="btn">Reflexi√≥n</a>
      <a href="/codigo" class="btn">C√≥digo</a>
    </nav>
  </main>
</body>
</html>
